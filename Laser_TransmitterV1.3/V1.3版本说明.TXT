

Laser_Transmitter_V1.0版本说明：

完成下挂所有的功能。

添加内容：

1.根据协议V1.14添加了相关的蓝牙指令，主要为：
开始训练01     ——8.2
结束训练02     ——8.3
设备复位03     ——8.4
查询设备状态0A ——8.11
设置设备状态0B  ——8.12
枪械开关0C     ——8.13
射弹上报0D     ——8.14
子弹补充0E     ——8.15

再加上之前的：
设置激光参数04 ——8.5
查询激光参数05 ——8.6

以上就是所有的枪械相关的BLE指令了。

2.添加了菜单的相关操作；
3.根据BLE协议完善了上电后的逻辑流程；
4.在各个地方加入了机械锁枪解锁的操作。





Laser_Transmitter_V1.1版本说明：

添加BLE更改枪号，以及电量是3.2V时鸣叫蜂鸣器、上报BLE主机的动作，程序版本基于Laser_Transmitter_V1.0版本。

修改内容：
1.ir.c添加了一个只更改枪号，不改其他激光参数的函数；
2.BLE串口接收的解码函数，添加对0xD0指令的处理，当显控(BLE主机)通过D5指令更改了从机MAC地址后，从机就会上报D0指令告诉STM32更改枪号；
3.adc.c中，电量检测为3.2V时则鸣叫蜂鸣器，上报显控；
4.更改激光参数指令0x04，SMT32收到后，若枪号不全为0，那么就会更改枪号并且发送0xD1指令通知蓝牙模块改MAC。如果全为0则不改枪号与MAC。





Laser_Transmitter_V1.2版本说明：

因为光斑在结构上改为手动调节，故取消软件上的步进电机，以及更改菜单显示，程序版本基于Laser_Transmitter_V1.1版本。

修改内容：
1.取消步进电机的初始化，以及蓝牙协议；
2.更改菜单中有关光斑大小的显示；
3.将外部中断的初始化放在锁枪磁铁之后，防止上电后会有一次霍尔触发的情况;
4.开机和复位的蜂鸣器鸣叫时长改为20ms;
5.BLE接收添加显控查找设备指令0x14；
6.配对方式改为上电3S内长按2S触发。





Laser_Transmitter_V1.3版本说明：

程序版本基于Laser_Transmitter_V1.2版本。

修改内容：
1.将查询设备参数指令0x0A的指令码改为0x15,指令内容不变；
2.处于设备测试模式下，发射的激光枪号中ID号设为0xff；
3.配对模式改为APP配对。








			
			
			
			
			
			
			
			
			
			
			
			
			
			
			
			